# 要件

## はじめに

社内研修用サービス管理システムは、バックオフィスにおいて社内研修用サービスに関する管理業務や請求業務を自動化し、効率化を図るためのシステムである。

## サービスについて

### 概要

.. ＜サービス内容は省略＞ ...

### 利用者数

本サービスの利用者は、最大で 10,000 人を想定している。

### 料金

基本料金は加入者一人当たり 500 円/月。また、追加オプションがあり、それぞれに適用期間と月額料金を設定できる。
加入者毎に必ず 1 つの基本料金と、任意で複数追加オプションを期間指定して設定する。ただし、一つの追加オプションを複数設定することはできない。

### 請求

毎月 1 日に前月の 1 日～月末日分の利用料を加入者に請求する。加入者の支払いはそれぞれが指定した決済方法にて行う。
決済方法は銀行振込決済、クレジットカード決済のいずれかとなり、請求項目ごとの決済方法の変更、按分請求はできない。
追加オプションが加入者に適用されている場合、適用期間中月額料金が請求される。
基本料金およびオプション料金の日割りはしない。本サービスに加入、および退会したタイミングに関わらず、利用期間の固定料金が請求される。

## システム機能要件

社内研修用サービス管理システムに必要な機能要件は次の通り。

1. 加入者情報管理機能
2. 料金管理機能
3. 請求情報作成機能

1、2 の機能は、利用可能端末の限定やシステム更新処理運用コストが増大しないよう、各管理機能は Web アプリケーションとして作成する。
3 の機能は、月末にバックグラウンド側のバッチ処理として作成する。

### 加入者情報管理機能

社内研修用サービスに加入した個人の情報を管理する。

| 項目       | 説明                                                       |
| ---------- | ---------------------------------------------------------- |
| 加入者番号 | 本システムの単位となる、加入者を特定するための番号。       |
| 氏名       | 問合せ対応や請求書の送付先加入者の氏名。                   |
| 住所       | 問合せ対応や請求書の送付先加入者の住所。                   |
| 加入日     | 請求データ作成の料金計算加入した日。                       |
| 退会日     | 請求データ作成の料金計算退会した日。                       |
| 決済方法   | 後続システムに対する料金回収方法の共有利用料金の決済方法。 |
| 適用料金   | 加入者毎に適用される料金。一つ以上基本料金が必要。         |

### 料金管理機能

基本料金や、加入者が任意で加入できる追加オプションなどのサービスの料金に関する情報を管理する。

| 項目       | 説明                                   |
| ---------- | -------------------------------------- |
| 料金名     | 料金を識別するための名前。             |
| 月額料金   | 適用されている加入者に請求する月額料金 |
| 料金区分   | 基本料かオプション料金かを決定する     |
| 適用開始日 | この料金の適用を開始する日             |
| 適用終了日 | この料金の適用が修了する日             |

### 請求データ作成機能

社内で稼働中の請求・回収システムに連携するための請求データを作成する。後続の請求・回収システムは、連携された情報を元に、請求書の発行、入金消込管理、回収管理、売上・売掛管理等をおこなう。請求データは、

- 加入者毎の請求される月額料金や、決済方法などがまとまった請求情報
- ① の月額利用料合計について詳細な料金情報がまとまった明細情報

で構成される。

① は、次のような情報を持つ。

| 項目           | 説明                           |
| -------------- | ------------------------------ |
| 請求年月       | 料金を識別するための名前。     |
| 加入者氏名     | 請求データ作成時点の加入者氏名 |
| 加入者住所     | 請求データ作成時点の加入者住所 |
| 決済方法       | 請求データ作成時点の決済方法   |
| 月額利用料合計 | 利用料合計金額                 |

② は、次のような情報を持つ。

| 項目       | 説明                                   |
| ---------- | -------------------------------------- |
| 請求年月   | 料金を識別するための名前。             |
| 料金名     | 適用されている加入者に請求する月額料金 |
| 月額料金   | 請求データ作成時点の月額料金           |
| 適用開始日 | 請求データ作成時点の適用開始日         |
| 適用終了日 | 請求データ作成時点の適用終了日         |

## 非機能要件

サービス管理システムの利き脳要件を以下の通りとする。なお、本システムは以下に示したもの以外の非機能要件は省略する(定義しない)。

### パフォーマンス

#### フロントエンド

各画面はリクエストから 3 秒以内にレスポンス、画面表示できること。

#### バッチ処理

請求データ作成処理は、想定している最大加入者数をもってしても 3 分(180 秒)以内で処理が完了すること。

### セキュリティ

#### アクセス制限

このサービス管理システムは利用が許可されたものしかアクセスができないよう、以下のいずれかの認証を有する。

1. ユーザ名パスワードによる基本認証
2. 社内 IdP を利用した OpenID 認証(SSO)

なお、1.の手段を取る場合は、パスワードを平文のままシステム内に保管しないこと。

#### 脆弱性対応

各管理機能において、アクセス権限がない第三者から不正アクセスされても、情報が漏れないように作成すること。
参考）IPA「安全なウェブサイトの作り方 改定第 7 版」2021 年 3 月発行
